<script type="text/javascript">
	var swfu;

	window.onload = function() {
		var settings = {
			flash_url : "/assets/swfupload_f9.swf",
			upload_url: "<%= album_photos_path(@album) %>",
			file_size_limit : "50 MB",
			file_types : "*.*",
			file_types_description : "All Images",
			file_upload_limit : 50,
			file_queue_limit : 0,
			custom_settings : {
				progressTarget : "fsUploadProgress",
				cancelButtonId : "btnCancel"
			},
			debug: false,

			// The event handler functions are defined in handlers.js
			file_queued_handler : fileQueued,
			file_queue_error_handler : fileQueueError,
			file_dialog_complete_handler : fileDialogComplete,
			upload_start_handler : uploadStart,
			upload_progress_handler : uploadProgress,
			upload_error_handler : uploadError,
			upload_success_handler : uploadSuccess,
			upload_complete_handler : uploadComplete,
			queue_complete_handler : queueComplete	// Queue plugin event
		};

		swfu = new SWFUpload(settings);
     };
</script>
<h1>
  Upload Photos for <%= h @album.title %>
</h1>
<hr>
<p>
  <%= link_to "Back", album_path(@album) %>
</p>
<form id="form1" action="#" method="post" enctype="multipart/form-data">
  <div>
    <input type="button" value="Upload Photos" onclick="swfu.selectFiles()" style="font-size:8pt; border-width:1px; margin-bottom:10px; padding:2px 3px;" />
    <input id="btnCancel" type="button" value="Cancel All Uploads" onclick="swfu.cancelQueue();" disabled="disabled" style="font-size:8pt; border-width:1px; margin-bottom:10px; padding:2px 3px;" />
  </div>
  <fieldset class="queue" id="fsUploadProgress">
    <legend>Upload Queue</legend>
  </fieldset>
</form>